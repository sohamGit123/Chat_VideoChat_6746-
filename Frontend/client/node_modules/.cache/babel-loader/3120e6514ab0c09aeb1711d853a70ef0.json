{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\Project\\\\FinalYearProjectWork\\\\Frontend\\\\client\\\\src\\\\components\\\\ChatOnline\\\\ChatOnline.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport './ChatOnline.css';\n\nfunction ChatOnline({\n  onlineUsers,\n  currentId,\n  setCurrentChat\n}) {\n  _s();\n\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  useEffect(() => {\n    const getFreinds = async () => {\n      try {\n        const res = await axios.get(\"/friends/\" + currentId);\n        setFriends(res.data);\n        console.log(res);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getFreinds();\n  }, [currentId]);\n  console.log(friends);\n  useEffect(() => {\n    setOnlineFriends(friends.filter(f => onlineUsers === null || onlineUsers === void 0 ? void 0 : onlineUsers.includes(f._id)));\n  }, [friends, onlineUsers]);\n  console.log(onlineUsers);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !currentId ? /*#__PURE__*/_jsxDEV(\"h1\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatOnline\",\n      children: onlineFriends.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatOnlineFriend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatOnlineImgContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"chatOnlineImg\",\n            src: \"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8cGVvcGxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=60\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatOnlineBadge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chatOnlineName\",\n          children: o === null || o === void 0 ? void 0 : o.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ChatOnline, \"yFYGMZ4Jcw65PZnJL9vuY71VskM=\");\n\n_c = ChatOnline;\nexport default ChatOnline;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatOnline\");","map":{"version":3,"sources":["E:/Project/FinalYearProjectWork/Frontend/client/src/components/ChatOnline/ChatOnline.js"],"names":["axios","React","useState","useEffect","ChatOnline","onlineUsers","currentId","setCurrentChat","friends","setFriends","onlineFriends","setOnlineFriends","getFreinds","res","get","data","console","log","err","filter","f","includes","_id","map","o","name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAO,kBAAP;;AAEA,SAASC,UAAT,CAAoB;AAACC,EAAAA,WAAD;AAAcC,EAAAA,SAAd;AAAyBC,EAAAA;AAAzB,CAApB,EAA8D;AAAA;;AAE1D,QAAM,CAACC,OAAD,EAASC,UAAT,IAAqBP,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACQ,aAAD,EAAeC,gBAAf,IAAiCT,QAAQ,CAAC,EAAD,CAA/C;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMS,UAAU,GAAC,YAAS;AACtB,UAAG;AACH,cAAMC,GAAG,GAAC,MAAMb,KAAK,CAACc,GAAN,CAAU,cAAcR,SAAxB,CAAhB;AACAG,QAAAA,UAAU,CAACI,GAAG,CAACE,IAAL,CAAV;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACC,OAJD,CAKA,OAAMK,GAAN,EAAU;AACNF,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH;AAEJ,KAVD;;AAWAN,IAAAA,UAAU;AACb,GAbQ,EAaP,CAACN,SAAD,CAbO,CAAT;AAeAU,EAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AAEAL,EAAAA,SAAS,CAAC,MAAI;AACVQ,IAAAA,gBAAgB,CAACH,OAAO,CAACW,MAAR,CAAgBC,CAAD,IAAKf,WAAL,aAAKA,WAAL,uBAAKA,WAAW,CAAEgB,QAAb,CAAsBD,CAAC,CAACE,GAAxB,CAApB,CAAD,CAAhB;AACH,GAFQ,EAEP,CAACd,OAAD,EAASH,WAAT,CAFO,CAAT;AAIAW,EAAAA,OAAO,CAACC,GAAR,CAAYZ,WAAZ;AAEA,sBACI;AAAA,cACC,CAACC,SAAD,gBAAW;AAAA;AAAA;AAAA;AAAA,YAAX,gBAED;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,gBACKI,aAAa,CAACa,GAAd,CAAmBC,CAAD,iBACnB;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,kCACI;AACA,YAAA,SAAS,EAAC,eADV;AAEA,YAAA,GAAG,EAAC,2KAFJ;AAGA,YAAA,GAAG,EAAC;AAHJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAQI;AAAM,UAAA,SAAS,EAAC,gBAAhB;AAAA,oBAAkCA,CAAlC,aAAkCA,CAAlC,uBAAkCA,CAAC,CAAEC;AAArC;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADC;AADL;AAAA;AAAA;AAAA;AAAA;AAHA,mBADJ;AAqBH;;GAjDQrB,U;;KAAAA,U;AAmDT,eAAeA,UAAf","sourcesContent":["import axios from 'axios'\r\nimport React,{useState,useEffect} from 'react'\r\nimport './ChatOnline.css'\r\n\r\nfunction ChatOnline({onlineUsers, currentId, setCurrentChat}) {\r\n\r\n    const [friends,setFriends]=useState([])\r\n    const [onlineFriends,setOnlineFriends]=useState([])\r\n\r\n    useEffect(()=>{\r\n        const getFreinds=async()=>{\r\n            try{\r\n            const res=await axios.get(\"/friends/\" + currentId)\r\n            setFriends(res.data)\r\n            console.log(res)\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n\r\n        }  \r\n        getFreinds();      \r\n    },[currentId]);\r\n\r\n    console.log(friends)\r\n\r\n    useEffect(()=>{\r\n        setOnlineFriends(friends.filter((f)=>onlineUsers?.includes(f._id)))\r\n    },[friends,onlineUsers]);\r\n\r\n    console.log(onlineUsers)\r\n\r\n    return (\r\n        <>\r\n        {!currentId?<h1></h1>\r\n        :\r\n        <div className=\"chatOnline\">\r\n            {onlineFriends.map((o)=>(\r\n            <div className=\"chatOnlineFriend\">\r\n                <div className=\"chatOnlineImgContainer\">\r\n                    <img \r\n                    className=\"chatOnlineImg\"\r\n                    src=\"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8cGVvcGxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=60\" \r\n                    alt=\"\" />\r\n                    <div className=\"chatOnlineBadge\"></div>\r\n                </div>\r\n                <span className=\"chatOnlineName\">{o?.name}</span>\r\n            </div>\r\n            ))}\r\n        </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatOnline\r\n"]},"metadata":{},"sourceType":"module"}